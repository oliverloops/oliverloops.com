import BlogPost from "../../../components/BlogPost";
import Image from "next/image";

export const meta = {
  author: "Oliver Lopez",
  title: "How to create a custom search filter on pure React",
  description: "Learn how to build a custom React search filter for your apps",
  date: "Feb 21, 2021",
  category: "React",
  color: "#5EA5F7"
};

export default ({ children }) => <BlogPost meta={meta}>{children}</BlogPost>;

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/coffee_cover.jpg"}
    alt={"React Hider"}
    layout="responsive"
    width={2480}
    height={1530}
  />
  <figcaption className="text-center text-gray-400 dark:text-gray-300 text-xs pt-2">
    Image from Thomas Martinsen - Unsplash
  </figcaption>
</figure>

<h2 className="mt-8 mb-4 text-2xl font-bold">Ok, let's begin</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Usually when we build a project we need to implement a way to filter all the
  data or portions of this data, one of the main ways to achive this is through
  a search bar but this could sound tricky but with help of just plain React and
  hooks it's much easier than you think.
</p>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  For this small example I'm going to use Create React App just to keep this
  config. easy as possible and just focus on the functionality:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/command_1.png"}
    alt={"Installing CRA"}
    layout="responsive"
    width={800}
    height={276}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  After this step is optional to delete everything inside <i>src</i> and{" "}
  <i>public</i> directory ,this time I just keep everything inside the project,
  then got to <i>App.js</i> file delete everything and create and{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> component like
  this one:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_0.png"}
    alt={"App initial"}
    layout="responsive"
    width={700}
    height={550}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Then inside <i>src</i> directory, create a new one called <i>components</i>,
  and inside create just 2 new files <i>SearchFilter.js</i> and <i>Card.js</i>{" "}
  this are the only two components we need for this example.
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/folders.png"}
    alt={"directory"}
    layout="responsive"
    width={25}
    height={20}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Eventually inside <i>SearchFilter.js</i> we will create a base search bar:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_1.png"}
    alt={"Search Filter base"}
    layout="responsive"
    width={800}
    height={660}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Now let's import this first component inside our{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> component:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_2.png"}
    alt={"App and Filter base"}
    layout="responsive"
    width={800}
    height={660}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Right now the whole app should looks like this:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/base_input.png"}
    alt={"App and Filter base"}
    layout="responsive"
    width={570}
    height={260}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Quite simple I know but we're just getting started, when you type on this
  simple search bar you should see what you type as output on your browser
  console
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={
      "/static/images/blog_img/search-filter-howto/search_bar_base_terminal.png"
    }
    alt={"Terminal output"}
    layout="responsive"
    width={300}
    height={210}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Before continue with our{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">Card</code> component I
  just wanna to take some extra steps to give some styling to our search filter.
  The idea is to style this component as the well knowed Google search bar, as
  the example you see bellow:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/google_ex_1.png"}
    alt={"Google search bar"}
    layout="responsive"
    width={450}
    height={150}
  />
  <figcaption className="text-center text-gray-400 dark:text-gray-300 text-xs pt-2">
    Google search bar design.
  </figcaption>
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And the hoverable shadow effect included:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/google_ex_2.png"}
    alt={"Google search bar on hover"}
    layout="responsive"
    width={680}
    height={150}
  />
  <figcaption className="text-center text-gray-400 dark:text-gray-300 text-xs pt-2">
    Google search bar and his hoverable shadow effect.
  </figcaption>
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  for this I used a dependency called react-icons for the search icon and took
  the time to add some custom styles inside <i>App.css</i> file as you see:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/styling_1.png"}
    alt={"Custom styles"}
    layout="responsive"
    width={350}
    height={230}
  />
</figure>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/styling_2.png"}
    alt={"Custom styles"}
    layout="responsive"
    width={300}
    height={230}
  />
</figure>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/styling_3.png"}
    alt={"Custom styles"}
    layout="responsive"
    width={260}
    height={270}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And as a last step we need to modify the{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">SearchFilter</code>{" "}
  component to the final version, where the search icon from react-icons was
  added (<code className="bg-gray-200 dark:bg-gray-500 px-1">IoMdSearch</code>)
  and as you can see I removed the{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">getField()</code> function
  but it was just relocated to{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> component
  because it's better to manage this behavior from the parent component.
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_7.png"}
    alt={"Final SearchFilter"}
    layout="responsive"
    width={260}
    height={270}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  The codebase for the whole project includes all the styling and it's on{" "}
  <a
    className="text-blue-600 dark:text-blue-400"
    href="https://github.com/oliverloops/React_SearchFilter"
  >
    this GitHub repository
  </a>
  .
</p>

<h2 className="mt-8 mb-4 text-2xl font-bold">Creating sample Card component</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Now we can continue with our Card component, this one will be filled with
  sample data directly from NASA API üöÄ, but first let's create the component‚Äôs
  layout:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_3.png"}
    alt={"Card component"}
    layout="responsive"
    width={360}
    height={270}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  From this step we should modelate our component with the needed props, an
  image, a title and a description, this is optional and you can implement your
  own modeleded layout and data.
</p>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Now we just import{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">Card</code> to our{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> parent
  component:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_4.png"}
    alt={"new imports"}
    layout="responsive"
    width={330}
    height={130}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  From this step we should modelate our component with the props this will
  receive, an image, a title and a description, this is just optional and you
  can implement your own modeleded layout and data.
</p>

<h2 className="mt-8 mb-4 text-2xl font-bold">Adding our last layout components</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  It's a best practice to keep all our components separated but for this small
  example I created{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">Header</code> and{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">Footer</code> components
  inside the parent component file, and looks like this:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_5.png"}
    alt={"Additional layout"}
    layout="responsive"
    width={320}
    height={200}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And this is how our{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> component looks
  like:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_6.png"}
    alt={"Updated App component"}
    layout="responsive"
    width={320}
    height={200}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  As you can see I even added an icon component using the react-icons library
  and integrating additional, the sample app now looks like this:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/sample_layout_2.png"}
    alt={"updated UI"}
    layout="responsive"
    width={320}
    height={70}
  />
  <figcaption className="text-center text-gray-400 dark:text-gray-300 text-xs pt-2">
    Search filter and sample header.
  </figcaption>
</figure>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/sample_layout.png"}
    alt={"updated UI"}
    layout="responsive"
    width={300}
    height={120}
  />
  <figcaption className="text-center text-gray-400 dark:text-gray-300 text-xs pt-2">
    Search filter and sample footer.
  </figcaption>
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Don't forget the hoverable effect:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/sample_layout_3.png"}
    alt={"Updated UI"}
    layout="responsive"
    width={350}
    height={70}
  />
</figure>

<h2 className="mt-8 mb-4 text-2xl font-bold">
  Adding logic and data before the magic
</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Let's create our state management logic using the{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">useState()</code> hook
  where we will be holding our requested data and the search input in order to
  control the data flow we should show and update. remember that we need to keep
  our <code className="bg-gray-200 dark:bg-gray-500 px-1">getData()</code>{" "}
  function inside <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code>{" "}
  parent component:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_8.png"}
    alt={"App logic"}
    layout="responsive"
    width={280}
    height={140}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And now we just need to pull the data from NASA API, you can find it here on{" "}
  <a className="text-blue-600 dark:text-blue-400" href="https://api.nasa.gov">
    https://api.nasa.gov
  </a>
  , and you just will need to provide you name, email and an optional URL where your
  hosted project is located, after this they will provide you an API KEY to use on
  your requests. it's easy as that!
</p>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  The way you get the date it's up to you, but as an example I'm using a simple
  API Rest model to request NASA's public patents names using an asynchronous
  function as you see below:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_9.png"}
    alt={"API Request"}
    layout="responsive"
    width={280}
    height={140}
  />
</figure>

<h2 className="mt-8 mb-4 text-2xl font-bold">
  Now the magic and what you've waiting for ‚ú®
</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Now it‚Äôs time to use our skills to build a simple data card filter considering
  our previous logic, first we should create a variable called{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">filtered</code> where we
  will be maping through all the requested and stored items from the API and
  filtering by the exact same value that it's passed through the{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">SearchFilter</code>{" "}
  component:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/magic_code_1.png"}
    alt={"Magic Code"}
    layout="responsive"
    width={260}
    height={120}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Just consider that we will be filtering by title and in this case we're
  storing our requested data as a matrix or arrays inside arrays, that's the
  reason why it's necesary to loop twice on{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">filtered</code>variable
  when we render:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/magic_code_2.png"}
    alt={"Magic Code"}
    layout="responsive"
    width={300}
    height={200}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And with this implementations our UI will looks like this:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/final_1.png"}
    alt={"Final UI"}
    layout="responsive"
    width={450}
    height={300}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Now if we try to filter by a number for example:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/final_2.png"}
    alt={"Final UI"}
    layout="responsive"
    width={450}
    height={300}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  We get just get the filtered data related to the actual input. and the job is
  done!, it works!
</p>

<h2 className="mt-8 mb-4 text-2xl font-bold">Thanks for read! üôå</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  You can find all the codebase of this example on{" "}
  <a
    className="text-blue-600 dark:text-blue-400 underline-offset-1"
    href="https://github.com/oliverloops/React_SearchFilter"
  >
    this GitHub repository
  </a>
  . I'll hope this can help you on future projects or at least solve a question or
  couple of them. Stay alert for more and follow me on Twitter where I share usefull
  tips and resources üòÅ .
</p>
