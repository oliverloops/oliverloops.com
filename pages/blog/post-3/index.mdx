import BlogPost from "../../../components/BlogPost";
import Image from "next/image";

export const meta = {
  author: "Oliver Lopez",
  title: "How to create a custom search filter on pure React",
  description: "Learn how to build a custom React search filter for your apps",
  date: "Feb 21, 2021",
  readTime: 8,
};

export default ({ children }) => <BlogPost meta={meta}>{children}</BlogPost>;

<h2 className="mt-6 text-2xl font-bold">Let's begin</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Usually when we build a project we need to implement a way to filter all the
  data or portions of this data, one of the ways to achive this is through a
  search bar at the begin this could looks tricky but with the help of just
  plain React it's much easier than you think.
</p>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  For this little example I'm going to use Create React App just for keep this
  config. easy as possible and just focus on the functionality:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/command_1.png"}
    alt={"Installing CRA"}
    layout="responsive"
    width={800}
    height={276}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  After this step it's optional to delete everything inside <i>src</i> and{" "}
  <i>public</i> directory ,this time I just keep everything inside the project,
  then got to <i>App.js</i> file delete everything and create and{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> component like
  this one:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_0.png"}
    alt={"App initial"}
    layout="responsive"
    width={700}
    height={550}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Then inside <i>src</i> directory, create a new one called <i>components</i>,
  and inside create just 2 new files <i>SearchFilter.js</i> and <i>Card.js</i>{" "}
  this are the only two components we need for this example.
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/folders.png"}
    alt={"directory"}
    layout="responsive"
    width={25}
    height={20}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Eventually inside <i>SearchFilter.js</i> let's just create a base search bar:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_1.png"}
    alt={"Search Filter base"}
    layout="responsive"
    width={800}
    height={660}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And let's import this first component inside our{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> component:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_2.png"}
    alt={"App and Filter base"}
    layout="responsive"
    width={800}
    height={660}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Right now the whole app should looks like this:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/base_input.png"}
    alt={"App and Filter base"}
    layout="responsive"
    width={550}
    height={260}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Quite simple I know but we're just getting started, when you type on this
  simple search bar you should see what you type as output on your browser
  console
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={
      "/static/images/blog_img/search-filter-howto/search_bar_base_terminal.png"
    }
    alt={"Terminal output"}
    layout="responsive"
    width={350}
    height={230}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Before continue with our{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">Card</code> component I
  just want to take some steps to give some styles to our search filter. The
  idea is to style this component as the well knowed Google search bar as the
  example you see bellow:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/google_ex_1.png"}
    alt={"Google search bar"}
    layout="responsive"
    width={450}
    height={150}
  />
  <figcaption className="text-center text-gray-400 dark:text-gray-300 text-xs pt-2">
    Google search bar design.
  </figcaption>
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And the hoverable shadow effect included:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/google_ex_2.png"}
    alt={"Google search bar on hover"}
    layout="responsive"
    width={680}
    height={150}
  />
  <figcaption className="text-center text-gray-400 dark:text-gray-300 text-xs pt-2">
    Google search bar and his hoverable shadow effect.
  </figcaption>
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  for this I used a dependency called react-icons for the search icon and took
  the time to add some custom styles inside <i>App.css</i> file as you see:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/styling_1.png"}
    alt={"Custom styles"}
    layout="responsive"
    width={350}
    height={230}
  />
</figure>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/styling_2.png"}
    alt={"Custom styles"}
    layout="responsive"
    width={300}
    height={230}
  />
</figure>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/styling_3.png"}
    alt={"Custom styles"}
    layout="responsive"
    width={260}
    height={270}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And as a last step we need to modify the{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">SearchFilter</code>{" "}
  component to the final version, where the search icon from react-icons was
  added (<code className="bg-gray-200 dark:bg-gray-500 px-1">IoMdSearch</code>)
  and as you can see I removed the{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">getField()</code> function
  but it was just relocated to{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> component
  because it's better to manage this behavior from the parent component.
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_7.png"}
    alt={"Final SearchFilter"}
    layout="responsive"
    width={260}
    height={270}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  All the codebase for the whole project it's included the styling it's on
  GitHub repository.
</p>

<h2 className="mt-6 text-2xl font-bold">Creating sample Card component</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Now we can continue with our Card component, this one will be filled with
  sample data directly from NASA API ðŸš€, but first let's create the componentâ€™s
  layout:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_3.png"}
    alt={"Card component"}
    layout="responsive"
    width={360}
    height={270}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  From this step we should modelate our component with the props this will
  receive, an image, a title and a description, this is just optional and you
  can implement your own modeleded layout and data.
</p>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Now we just import{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">Card</code> to our{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> parent
  component:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_4.png"}
    alt={"new imports"}
    layout="responsive"
    width={330}
    height={130}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  From this step we should modelate our component with the props this will
  receive, an image, a title and a description, this is just optional and you
  can implement your own modeleded layout and data.
</p>

<h2 className="mt-6 text-2xl font-bold">Adding our last layout components</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  It's a best practice to keep all our components separated but for this small
  example I created{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">Header</code> and
  <code className="bg-gray-200 dark:bg-gray-500 px-1">Footer</code> components inside
  the parent component file, and looks like this:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_5.png"}
    alt={"Additional layout"}
    layout="responsive"
    width={320}
    height={200}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And this is how our{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> looks like:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_6.png"}
    alt={"Updated App component"}
    layout="responsive"
    width={320}
    height={200}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  As you can see I even added an icon component from react-icons library and now
  integrating the styling from our code repository, the sample app now looks
  like this:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/sample_layout_2.png"}
    alt={"updated UI"}
    layout="responsive"
    width={320}
    height={70}
  />
  <figcaption className="text-center text-gray-400 dark:text-gray-300 text-xs pt-2">
    Search filter and sample header.
  </figcaption>
</figure>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/sample_layout.png"}
    alt={"updated UI"}
    layout="responsive"
    width={300}
    height={120}
  />
  <figcaption className="text-center text-gray-400 dark:text-gray-300 text-xs pt-2">
    Search filter and sample footer.
  </figcaption>
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Don't forget the hoverable effect:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/sample_layout_3.png"}
    alt={"Updated UI"}
    layout="responsive"
    width={330}
    height={70}
  />
</figure>

<h2 className="mt-6 text-2xl font-bold">
  Adding logic and data before the magic
</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Let's create the variables where we will be holding our requested data and the
  search input in order to control the flow and the data we should show and
  update. remember that we need to keep our{" "}
  <code className="bg-gray-200 dark:bg-gray-500 px-1">getData()</code> function
  inside <code className="bg-gray-200 dark:bg-gray-500 px-1">App</code> parent
  component:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_8.png"}
    alt={"App logic"}
    layout="responsive"
    width={280}
    height={140}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  And now we just need to pull the data from NASA API, you can find it here on{" "}
  <a href="https://api.nasa.gov">https://api.nasa.gov</a>, and you just will
  need to provide you name, email and an optional URL from your hosted project,
  after this they will provide you an API KEY to use on your requests. it's easy
  as that!
</p>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  The way you get the date it's up to you, but as an example I'm using a simple
  API Rest using an asynchronous function as you see below:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/search-filter-howto/code_9.png"}
    alt={"API Request"}
    layout="responsive"
    width={280}
    height={140}
  />
</figure>
