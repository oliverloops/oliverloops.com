import BlogPost from "../../../components/BlogPost";
import Image from "next/image";

export const meta = {
  author: "Oliver Lopez",
  title: "The 3 masks of this.setState",
  description: "A look into one of the most classic and useful React methods",
  date: "Jun 17, 2020",
  readTime: 5,
};

export default ({ children }) => <BlogPost meta={meta}>{children}</BlogPost>;

<Image
  src={"/static/images/blog_img/the-3-masks/3masks.jpg"}
  alt={"City Banner"}
  layout="responsive"
  width={1000}
  height={333}
/>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Since the introduction of React Hooks on React 16.8 version the way we build
  features based on state management, prop drilling, event handling and a lot
  more has been changed. But doesn’t matter that all this new approaches came in
  a certain way to “replace” class based state management, a lot of open source,
  startup and business projects are still using the whole class based React
  environment and a lot of developers should actually maintain all this projects
</p>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  We could spend the whole day arguing why we should start using react hooks in
  every project we build but that’s a discussion for other day, it’s quite
  important to consider that we still need to know how the entire library works
  and yes that includes the classic this.state and this.setState formula for
  built-in state management.
</p>

<h2 className="mt-6 text-2xl font-bold">The First Mask 🎭</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  I’ll want to begin with the most common way to use this.setState, using just
  and object as a parameter and changing the initial state through attributes as
  we can see on the next example using a simple apple(s) increment button:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/intro-to-react/react-banner.png"}
    alt={"Medium Skeleton"}
    layout="responsive"
    width={480}
    height={250}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  as you see we incorporate the this.setState into a method called toBasket,
  that will be integrated and called through the onClick event as you see
  bellow:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/intro-to-react/react-banner.png"}
    alt={"Medium Skeleton"}
    layout="responsive"
    width={480}
    height={250}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  I know that’s a simple example but I will add the expected result bellow:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/intro-to-react/react-banner.png"}
    alt={"Medium Skeleton"}
    layout="responsive"
    width={480}
    height={250}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  this is quite common and one of the first things to know and grab when we
  started to learn React, now let’s move to the interesting part.
</p>

<h2 className="mt-6 text-2xl font-bold">The Second Mask 👺</h2>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Maybe you’re asking for: which other functionality offers this method?
</p>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  Well imagine that you want to run a function that needs the updated state, if
  we execute a function that will use the new state this one will return the old
  state because the updated one takes effect just after rendering step. In this
  case this.setState provides the option to pass a function as an additional
  parameter that can access to the new state as you can see on the example
  bellow adding a console.log that show us the updated state’s value:
</p>

<figure className="md:px-5 md:mt-4 md:mb-5">
  <Image
    src={"/static/images/blog_img/intro-to-react/react-banner.png"}
    alt={"Medium Skeleton"}
    layout="responsive"
    width={480}
    height={250}
  />
</figure>

<p className="break-words text-md text-left leading-relaxed text-gray-700 dark:text-white">
  this console.log returns the old state because it’s executed before rendering
  step and when the Add more apples button it’s pressed we see that result
  projected in both DOM and console:
</p>
